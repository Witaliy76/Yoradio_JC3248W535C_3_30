# üéØ –°–¢–ê–¢–£–° –î–ò–°–ü–õ–ï–Ø ST7701 (ESP32-4848S040)

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢
- **–î–∏—Å–ø–ª–µ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è** - –Ω–µ—Ç –æ—à–∏–±–æ–∫ –≤ Serial Monitor
- **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç—Å—è** - `analogWrite(ST7701_BL, 255)` —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è** - –≤–∏–¥–µ–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∫—Ä–∞—Å–Ω—ã–π –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫
- **RGB –ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞** - –≤—Å–µ –ø–∏–Ω—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏—Ç** –±–µ–∑ –æ—à–∏–±–æ–∫

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –ò–ù–í–ï–†–°–ò–Ø –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø
**–°–∏–º–ø—Ç–æ–º—ã:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ —Ü–≤–µ—Ç–∞–º
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ RGB (BGR –≤–º–µ—Å—Ç–æ RGB)
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–≤–µ—Ç–æ–≤–æ–π —Å—Ö–µ–º—ã
- –ü—Ä–æ–±–ª–µ–º–∞ —Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–†–µ—à–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```cpp
// –í myoptions.h –¥–æ–±–∞–≤–∏—Ç—å:
#define ST7701_BGR  // –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å BGR –ø–æ—Ä—è–¥–æ–∫

// –ò–ª–∏ –≤ displayST7701.cpp –∏–∑–º–µ–Ω–∏—Ç—å:
// bus->sendData(0x55); // RGB565
// –Ω–∞:
// bus->sendData(0x66); // BGR565
```

### 2. –ê–†–¢–ï–§–ê–ö–¢–´ –ù–ê –≠–ö–†–ê–ù–ï
**–°–∏–º–ø—Ç–æ–º—ã:** –ü–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–µ –ª–∏–Ω–∏–∏, —à—É–º, –∏—Å–∫–∞–∂–µ–Ω–∏—è
**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π RGB –ø–∞–Ω–µ–ª–∏
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ PCLK, DE, VSYNC, HSYNC
- –≠–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã–µ –ø–æ–º–µ—Ö–∏
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–∏—Ç–∞–Ω–∏–µ–º

**–†–µ—à–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```cpp
// –í displayST7701.cpp –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:
rgbpanel->setPclkActiveNeg(true);  // –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å PCLK
// –∏–ª–∏
rgbpanel->setPreferSpeed(false);   // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞–¥ —Å–∫–æ—Ä–æ—Å—Ç—å—é
```

### 3. –ù–ê–°–¢–†–û–ô–ö–ê –ü–û–î–°–í–ï–¢–ö–ò
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** `analogWrite(ST7701_BL, 255)` - –ø–æ–ª–Ω–∞—è —è—Ä–∫–æ—Å—Ç—å
**–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç—å—é
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å–∏—Å—Ç–µ–º–æ–π —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —è—Ä–∫–æ—Å—Ç—å—é YoRadio
- –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ

## üîß –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å BGR –ø–æ—Ä—è–¥–æ–∫** - –¥–æ–±–∞–≤–∏—Ç—å `#define ST7701_BGR`
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é** - –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å `setPclkActiveNeg(true)`
3. **–£–±—Ä–∞—Ç—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ RGB –ø–∞–Ω–µ–ª–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YoRadio
1. **–£–±—Ä–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–¥** - –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã
2. **–í–∫–ª—é—á–∏—Ç—å —á–∞—Å—ã** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
3. **–í–∫–ª—é—á–∏—Ç—å –ø–ª–µ–π–ª–∏—Å—Ç** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞–Ω—Ü–∏–π
4. **–í–∫–ª—é—á–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —è—Ä–∫–æ—Å—Ç—å—é** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π YoRadio
2. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å FPS
3. **–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ç–∞—á—Å–∫—Ä–∏–Ω–∞** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

## üìã –ö–û–ú–ê–ù–î–´ –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
pio run --environment 4848S040

# –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
pio run --environment 4848S040 --target upload

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Serial
pio device monitor
```

## üîç –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê

### Serial Monitor - —á—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–∏–¥–Ω–æ:
```
[ST7701] RGB Panel initialized
[ST7701] Command bus initialized
[ST7701] Display initialized
[ST7701] RGB565 format set (0x3A=0x55)
[ST7701] Backlight enabled
[ST7701] Screen cleared to BLACK
[ST7701] Test RED rectangle drawn
[ST7701] Display ready for normal operation
```

### –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–∏–Ω—ã –Ω–∞ –ø–ª–∞—Ç–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∏—Ç–∞–Ω–∏–µ 3.3V
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ RGB –ª–∏–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `myoptions.h`

## üìÅ –§–ê–ô–õ–´ –î–õ–Ø –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø

1. **`src/myoptions.h`** - –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–∏–Ω—ã
2. **`src/src/displays/displayST7701.cpp`** - –¥—Ä–∞–π–≤–µ—Ä –¥–∏—Å–ø–ª–µ—è
3. **`src/src/displays/conf/displayST7701conf.h`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–æ–≤

